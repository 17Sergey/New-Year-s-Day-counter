<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <link
            rel="stylesheet"
            href="./style.css"
        />
        <title>Document</title>
    </head>
    <body>
        <div>
            <h1><span id="value"></span></h1>
        </div>
        <script>
            const span = document.querySelector("#value");
            function getDaysTillNewYearsDay() {
                let currentDate = new Date();

                const nextYear = currentDate.getFullYear() + 1;
                let newYearsDay = new Date(`01/01/${nextYear}`);

                let diffInTime = newYearsDay.getTime() - currentDate.getTime();
                let diffInDays = 1 + Math.round(diffInTime / (1000 * 3600 * 24));

                function getDaysWord(days) {
                    if (typeof days !== "number" || days < 0) {
                        return "Некорректное количество дней";
                    }

                    const lastDigit = days % 10;
                    const lastTwoDigits = days % 100;

                    if (lastDigit === 1 && lastTwoDigits !== 11) {
                        return "день";
                    } else if (
                        lastDigit >= 2 &&
                        lastDigit <= 4 &&
                        (lastTwoDigits < 12 || lastTwoDigits > 14)
                    ) {
                        return "дня";
                    } else {
                        return "дней";
                    }
                }

                return `${diffInDays} ${getDaysWord(diffInDays)}`;
            }

            span.innerHTML = `До Нового года осталось ${getDaysTillNewYearsDay()}`;
        </script>
    </body>
</html>
